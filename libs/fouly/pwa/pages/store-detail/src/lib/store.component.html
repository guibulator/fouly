<ion-header>
   <ion-toolbar>
      <ion-buttons slot="start">
         <ion-back-button></ion-back-button>
      </ion-buttons>
      <ion-buttons slot="start">
         <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title>Détails du lieu sélectionné</ion-title>
   </ion-toolbar>
</ion-header>

<ion-content>
   <ion-list *ngIf="loading$ | async">
      <ion-item>
         <ion-avatar slot="start">
            <ion-skeleton-text animated></ion-skeleton-text>
         </ion-avatar>
         <ion-label>
            <h3>
               <ion-skeleton-text animated style="width: 50%;"></ion-skeleton-text>
            </h3>
            <p>
               <ion-skeleton-text animated style="width: 80%;"></ion-skeleton-text>
            </p>
            <p>
               <ion-skeleton-text animated style="width: 60%;"></ion-skeleton-text>
            </p>
         </ion-label>
      </ion-item>
   </ion-list>
   <ion-list *ngIf="!(loading$ | async) && placeDetails$ | async as placeDetails">
      <ion-item-group>
         <ion-item *ngIf="placeDetails[0]">
            <ion-label>
               <h3>{{ placeDetails[0].name }}</h3>
               <p [innerHtml]="placeDetails[0].adr_address"></p>
               <p [innerHtml]="placeDetails[0].business_status"></p>
               <p [innerHtml]="placeDetails[0].formatted_phone_number"></p>
               <p [innerHtml]="placeDetails[0].website"></p>
               <p><strong>Présentement </strong>{{ !placeDetails[0].opening_hours.open_now ? 'FERMÉ' : 'OUVERT' }}</p>
            </ion-label>
         </ion-item>
         <ion-item *ngIf="placeDetails[0].opening_hours.open_now">
            <ion-icon color="danger" size="large" name="ellipse"></ion-icon>
            <ion-label>&nbsp;Attente importante</ion-label>
         </ion-item>
         <ion-item button *ngIf="placeDetails[0]" (click)="gotoChat(placeDetails[0].name)">
            <ion-icon name="chatbubbles" size="large"></ion-icon>
            <ion-label>&nbsp;Commentaires</ion-label>
         </ion-item>
      </ion-item-group>
   </ion-list>
   <!-- <pre *ngIf="!(loading$ | async)">{{ placeDetails$ | async | json }}</pre> -->
</ion-content>
