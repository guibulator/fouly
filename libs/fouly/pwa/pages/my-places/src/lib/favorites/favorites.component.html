<ion-header>
   <ion-toolbar>
      <ion-buttons slot="start">
         <ion-back-button></ion-back-button>
      </ion-buttons>
      <ion-buttons slot="start">
         <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title>{{ 'page.myFavorites.title' | translate }}</ion-title>
   </ion-toolbar>
</ion-header>

<ion-content fullscreen>
   <ng-container *ngIf="favorites$ | async as favorites">
      <ion-list>
         <ion-item-group>
            <ion-item-sliding *ngFor="let p of favorites">
               <ion-item routerLink="/app/tabs/map/store-detail/{{ p.placeId }}">
                  <ion-icon class="fouly-icon-list" color="primary" name="star"></ion-icon>
                  <ion-label
                     ><h2 class="ion-text-wrap" [innerHTML]="p.name"></h2>
                     <p class="ion-text-wrap" [innerHtml]="p.address"></p>
                  </ion-label>
                  <ion-note slot="end" color="tertiary"
                     ><ion-icon class="fouly-icon-list" color="warning" size="large" name="body"></ion-icon
                  ></ion-note>
               </ion-item>
               <ion-item-options side="end">
                  <ion-item-option (click)="onRemovePlace(p.placeId)">{{ 'page.myFavorites.remove' | translate }}</ion-item-option>
               </ion-item-options>
            </ion-item-sliding>
         </ion-item-group>
      </ion-list>
   </ng-container>
   <ng-container *ngIf="showFavImage$ | async">
      <ng-container *ngTemplateOutlet="infoSlide"></ng-container>
   </ng-container>

   <ng-container *ngIf="favLimited$ | async"> <ng-container *ngTemplateOutlet="register"></ng-container> </ng-container>
</ion-content>

<ng-template #infoSlide>
   <fouly-content-centered sizeLg="6">
      <ion-card class="ion-text-center">
         <ion-img [src]="'assets/img/svg/undraw_map_1r69.svg'" class="empty-image"></ion-img>
         <ion-card-title
            ><h2>
               {{ 'page.myFavorites.favoriteShops' | translate }}
            </h2></ion-card-title
         >
         <ion-card-content class="ion-text-justify">
            {{ 'page.myFavorites.instruction' | translate }}
         </ion-card-content>
      </ion-card>
   </fouly-content-centered>
</ng-template>

<ng-template #register>
   <ion-card class="ion-text-center">
      <ion-card-title>
         <h1>{{ 'page.myFavorites.signupMessage' | translate }}</h1>
      </ion-card-title>
      <ion-card-content>
         <ion-button color="primary" expand="block">{{ 'appshell.login' | translate }}</ion-button>
      </ion-card-content>
   </ion-card>
</ng-template>
