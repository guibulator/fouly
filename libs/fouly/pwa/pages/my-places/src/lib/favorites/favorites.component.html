<ion-header>
   <ion-toolbar>
      <ion-buttons slot="start">
         <ion-back-button></ion-back-button>
      </ion-buttons>
      <ion-buttons slot="start">
         <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title>Mes favoris</ion-title>
   </ion-toolbar>
</ion-header>

<ion-content fullscreen>
   <ng-container *ngIf="favorites$ | async as favorites">
      <ion-list>
         <ion-item-group>
            <ion-item-sliding *ngFor="let p of favorites">
               <ion-item routerLink="/app/tabs/map/store-detail/{{ p.placeId }}">
                  <ion-icon class="fouly-icon-list" color="primary" name="star"></ion-icon>
                  <ion-label
                     ><h2>
                        {{ p.name }}
                     </h2>
                     <p [innerHtml]="p.address"></p>
                     <fouly-affluence></fouly-affluence>
                     <!-- <ion-chip class="fouly-chip" color="primary">
                        <ion-icon class="fouly-icon-list" color="warning" size="large" name="ellipse"></ion-icon>
                        <ion-label>&nbsp;Attente moyenne</ion-label>
                     </ion-chip> -->
                  </ion-label>
                  <!-- <ion-icon color="tertiary" size="large" name="add-circle-outline"></ion-icon> -->
               </ion-item>
               <ion-item-options side="end">
                  <ion-item-option (click)="onRemovePlace(p.placeId)">Enlever</ion-item-option>
               </ion-item-options>
            </ion-item-sliding>
         </ion-item-group>
      </ion-list>
   </ng-container>
   <ng-container *ngIf="(favorites$ | async).length < 3 as favorites">
      <ng-container *ngTemplateOutlet="infoSlide"></ng-container>
   </ng-container>
</ion-content>

<ng-template #infoSlide>
   <fouly-content-centered sizeLg="6">
      <ion-card class="ion-text-center">
         <ion-card-header>
            <ion-img [src]="'assets/img//svg/undraw_map_1r69.svg'" class="empty-image"></ion-img>
            <h2>
               Vos commerces favoris
            </h2>
         </ion-card-header>
         <ion-card-content>
            <p class="p-slide">
               Vous trouverez en un clin d'oeil les détails importants comme le délai d'attente et l'achalandage de vos commerces favoris. Pour
               ajouter un favoris, dirigez vous sur la map, sélectionner un commerce et cliquer sur l'étoile.
            </p>
         </ion-card-content>
      </ion-card>
   </fouly-content-centered>
</ng-template>
